import{d as L,r as n,C as V,u as e,a as m,b as g,w as f,v,e as r,j as y,m as h,t as w,p as x,g as _,q as C,_ as P}from"./index-CiQEfmg2.js";const B={key:0,class:"container"},D=["aria-busy"],K={key:0,class:"error"},N=L({__name:"Login",emits:["login"],setup(U,{emit:b}){let a=n(""),t=n(""),u=n(!1),i=n(!1),s=n("");const k=b,p=new V("https://mcq-db.dakakean.com"),c=async()=>{if(i.value=!0,s.value="",a.value!==""&&t.value!==""){console.log("trying to log in");try{const d=await p.collection("users").authWithPassword(a.value,t.value);u.value=p.authStore.isValid,u.value&&k("login")}catch(d){console.error(d),s.value="Login failed. Please check your credentials and try again."}}else s.value="Please enter both username and password.";i.value=!1};return(d,o)=>e(u)?_("",!0):(m(),g("div",B,[f(r("input",{name:"login",placeholder:"Username","aria-label":"Login",autocomplete:"username","onUpdate:modelValue":o[0]||(o[0]=l=>y(a)?a.value=l:a=l),onKeyup:h(c,["enter"])},null,544),[[v,e(a)]]),f(r("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password","onUpdate:modelValue":o[1]||(o[1]=l=>y(t)?t.value=l:t=l),onKeyup:h(c,["enter"])},null,544),[[v,e(t)]]),r("button",{class:"login","aria-busy":e(i),type:"button",value:"Login",onClick:x(c,["prevent"])},w(e(i)?"":"Login"),9,D),e(s)?(m(),g("p",K,w(e(s)),1)):_("",!0),o[2]||(o[2]=r("p",null,[C(" Get your free account by contacting me on telegram "),r("a",{href:"https://t.me/alnoorimustafa94"}," click here ")],-1))]))}}),M=P(N,[["__scopeId","data-v-1cdc3ccd"]]);export{M as default};
