import{d as k,r as l,C as L,u as e,a as p,b as m,w as g,v,e as c,j as f,t as _,l as C,g as h,_ as P}from"./index-d2xVspAj.js";const V={key:0,class:"container"},x=["aria-busy"],B={key:0,class:"error"},D=k({__name:"Login",emits:["login"],setup(q,{emit:w}){let a=l("test@mcq.com"),t=l("12345678"),i=l(!1),n=l(!1),o=l("");const y=w,d=new L("https://mcq-db.dakakean.com"),b=async()=>{if(n.value=!0,o.value="",a.value!==""&&t.value!==""){console.log("trying to log in");try{const u=await d.collection("users").authWithPassword(a.value,t.value);i.value=d.authStore.isValid,i.value&&y("login")}catch(u){console.error(u),o.value="Login failed. Please check your credentials and try again."}}else o.value="Please enter both username and password.";n.value=!1};return(u,r)=>e(i)?h("",!0):(p(),m("div",V,[g(c("input",{name:"login",placeholder:"Login","aria-label":"Login",autocomplete:"username","onUpdate:modelValue":r[0]||(r[0]=s=>f(a)?a.value=s:a=s)},null,512),[[v,e(a)]]),g(c("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password","onUpdate:modelValue":r[1]||(r[1]=s=>f(t)?t.value=s:t=s)},null,512),[[v,e(t)]]),c("button",{class:"login","aria-busy":e(n),type:"button",value:"Login",onClick:C(b,["prevent"])},_(e(n)?"":"Login"),9,x),e(o)?(p(),m("p",B,_(e(o)),1)):h("",!0)]))}}),N=P(D,[["__scopeId","data-v-340a0420"]]);export{N as default};
