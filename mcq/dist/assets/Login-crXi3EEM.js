import{d as h,r,C as _,u as l,o as w,a as b,w as d,j as p,b as c,g as m,t as y,k,f as L,_ as V}from"./index-BostqQ9t.js";const C={key:0,class:"container"},S=["aria-busy"],x=h({__name:"Login",emits:["login"],setup(B,{emit:g}){let a=r("test@mcq.com"),o=r("12345678"),i=r(!1),n=r(!1);const f=g,t=new _("https://mcq-db.dakakean.com"),v=async()=>{var u;if(n.value=!0,a.value!==""&&o.value!==""){console.log("trying to log in");try{const e=await t.collection("users").authWithPassword(a.value,o.value);console.log(t.authStore.isValid),console.log(t.authStore.token),console.log((u=t.authStore.record)==null?void 0:u.id),i.value=t.authStore.isValid,i.value&&f("login")}catch(e){console.error(e)}}};return n.value=!1,(u,e)=>l(i)?L("",!0):(w(),b("div",C,[d(c("input",{name:"login",placeholder:"Login","aria-label":"Login",autocomplete:"username","onUpdate:modelValue":e[0]||(e[0]=s=>m(a)?a.value=s:a=s)},null,512),[[p,l(a)]]),d(c("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password","onUpdate:modelValue":e[1]||(e[1]=s=>m(o)?o.value=s:o=s)},null,512),[[p,l(o)]]),c("button",{class:"login","aria-busy":l(n),type:"button",value:"Login",onClick:k(v,["prevent"])},y(l(n)?"":"Login"),9,S)]))}}),P=V(x,[["__scopeId","data-v-3cafa76f"]]);export{P as default};
