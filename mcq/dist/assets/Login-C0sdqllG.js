import{d as k,r as n,C as L,u as e,a as p,b as m,w as g,v as f,e as r,j as v,t as h,m as V,g as y,p as x,_ as C}from"./index-CrS8XUdG.js";const P={key:0,class:"container"},B=["aria-busy"],D={key:0,class:"error"},N=k({__name:"Login",emits:["login"],setup(U,{emit:w}){let a=n(""),t=n(""),u=n(!1),i=n(!1),s=n("");const _=w,d=new L("https://mcq-db.dakakean.com"),b=async()=>{if(i.value=!0,s.value="",a.value!==""&&t.value!==""){console.log("trying to log in");try{const c=await d.collection("users").authWithPassword(a.value,t.value);u.value=d.authStore.isValid,u.value&&_("login")}catch(c){console.error(c),s.value="Login failed. Please check your credentials and try again."}}else s.value="Please enter both username and password.";i.value=!1};return(c,o)=>e(u)?y("",!0):(p(),m("div",P,[g(r("input",{name:"login",placeholder:"Username","aria-label":"Login",autocomplete:"username","onUpdate:modelValue":o[0]||(o[0]=l=>v(a)?a.value=l:a=l)},null,512),[[f,e(a)]]),g(r("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password","onUpdate:modelValue":o[1]||(o[1]=l=>v(t)?t.value=l:t=l)},null,512),[[f,e(t)]]),r("button",{class:"login","aria-busy":e(i),type:"button",value:"Login",onClick:V(b,["prevent"])},h(e(i)?"":"Login"),9,B),e(s)?(p(),m("p",D,h(e(s)),1)):y("",!0),o[2]||(o[2]=r("p",null,[x(" Get your free account by contacting me on telegram "),r("a",{href:"https://t.me/alnoorimustafa94"}," click here ")],-1))]))}}),S=C(N,[["__scopeId","data-v-b2c53e47"]]);export{S as default};
